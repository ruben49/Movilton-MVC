@model movilton_mvc.Models.articulos

@{
    ViewBag.Title = "CreateArticle";
    Layout = "~/Views/Shared/_Layout_Panel.cshtml";
}


<script>
    $(document).ready(function () {


        //aqui cambiai el id del input type=file
        $("#imagen").change(function () {
            mostrarImagen(this);
        });


        function mostrarImagen(input) {

            //primero se revisa si el navegador es compatible con todas las api
            if (window.File && window.FileReader && window.FileList && window.Blob) {
                //Si pasa no hay problema

                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        //aqui le cambias el id del tag img
                        $('#img').attr('src', e.target.result);

                    }
                    reader.readAsDataURL(input.files[0]);

                }

            } else {
                alert('Error al leer el archivo. Las APIs no son totalmente compatibles con el navegador');
            }
        }

    });
</script>

<div>
    <ul class="breadcrumb">
        <li>
            <a href="/articulo">Articulos</a>
        </li>
        <li>
            <a href="/articulo/CreateArticle">Ingreso de Articulo</a>
        </li>
    </ul>
</div>


<div class="row">
    <div class="box col-md-12">
        <div class="box-inner">
            <div class="box-header well" data-original-title="">
                <h2><i class="glyphicon glyphicon-edit"></i> Ingresar Nuevo Artículo</h2>
            </div>
            <div class="box-content">
                <form method="post" enctype="multipart/form-data" action="/articulo/InsertArticule">

                    <div class="form-group">
                        <label for="img" style="float:left;margin-left:10px">&nbsp;Imagen del Artículo</label>
                        <div style="clear:both"></div>
                        <label style="margin-left:15px;" for="imagen">
                            <img src="~/Images/Sin_foto.png" width="120" id="img" height="100" style="float:left;" />
                            <div style="clear:both"></div>
                            &nbsp;&nbsp;&nbsp;&nbsp; Subir Imagen
                        </label>
                        <input type="file" name="imagen" id="imagen" style="display:none;">
                    </div>

                    <div class="form-group">
                        <label for="titulo">Titulo</label>
                        <input type="text" name="titulo" class="form-control" value="" id="titulo" placeholder="Ingrese el Título del Artículo" required>
                    </div>

                    <div class="form-group">
                        <label for="descripcion">Descripción</label>
                        <textarea name="descripcion" class="form-control" id="descripcion" placeholder="Ingrese la Descripción del Artículo" required></textarea>
                    </div>

                    <div class="controls">
                        <select id="ubicacion" name="ubicacion">
                            <option value="Index">Index</option>
                            <option value="About">¿Qué es Movilton?</option>
                            <option value="Contact">Contacto</option>
                        </select>
                    </div>
                    <br />
                    <button type="submit" class="btn btn-default">Guardar</button>
                </form>

            </div>
        </div>
    </div>
    <!--/span-->

</div>

